Api:
1) разделение эндпоинт на лист и деталку
2) всё сделать в пут-стиле

архитектура:
0) Написать кор сервис в гексагональной архитектуре
1) ноды должны легко расширятся горизонатльно и вертикально
2) граф должен легко рашияртся горизонтально по режимам работы

Граф:
1) состоит из нод и только из нод без какого-либо контекста
2) у графа есть функция частичного тестирования
3) Должен иметь следущие валидации на этапе сохранения и по возможности на этапе процессинга:
- минимум 2 ноды
- граф без циклов
- консистентность структур сообщений
- имя должно быть не пустым
- имя ноды дожно быть уникально в рамках графа и не должно содержать пробелов
- валидация того, что ноды в консистетном состоянии. Например: если парентов много, то коннекшен нода обязана иметь вхожную агрегацию  

Нода:
0) имя ноды дожно быть уникально в рамках графа и не должно содержать пробелов 
1) любая нода может принимать n сообщений, и пропогэйтить их в m других нод
2) если нода идейно не может обработать n сообщений, она должна иметь механизм агрегации сообщений.
3) нода может принимать сообщения конкретной структуры и отдаёт сообщения той же или другой структуры. Каждая нода должна знать
какие структуры она может принять, а какую отдаёт. По дефолту: json. Валидация консистентноти структур должна происходить перед
сохранением и перед процессингом. Возможные опции: json, raw, xml.
4) каждая нода состоит из некоторого количества экшенов. Некоторые из них могут пропускаться если не требуется.
5) собщение состоит из: хэдеров, параметров, пэйлоада, контекста, источника
6) при экзекуции ноды, сорс сообщения - это продюсер именно этого сообщения.

коннекшен нода:
0) сам эксчэндж происходит только в одном типе данных

Трансформация:
1) для json поддержка jslt
2) по дефолту хэдеры, контекст, и параметры просто мержим
3) если сообщений несколько а бади неопределён - ошибка

Стриминг:
1) ёбля пиздец нах

Обработка ошибок:
1) можно опеределить фолбэк в узле
2) каждый узел должен иметь натсраиваемую ретрай политику
3) два режима проработки: пропогэйт ошибки вдоль ребра, и убийтсво графа и вызовы фоллбэков